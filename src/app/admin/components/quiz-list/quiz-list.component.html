<div class="container" *ngIf="quizList$ | async as quizList else loading">
    <div class="d-flex flex-row mb-4 justify-content-between align-items-center">
        <span>There are totally {{quizList.length}} quizes in database</span>
        <a class="btn btn-outline-primary" routerLink="./quiz/new">Create New Quiz</a>
    </div>

    <nb-card *ngFor="let quiz of quizList; let i = index" [accent]="quiz.published ? 'info' : 'warning'">
        <nb-card-header class="d-flex align-items-center justify-content-between px-4 py-2">
            <span>{{quiz.name}} ({{quiz.shortName}})</span>
            <span>
                <a class="btn btn-xs btn-outline-primary ml-2" routerLink="./quiz/{{quiz.id}}">Edit</a>
            </span>
        </nb-card-header>
        <nb-card-body>
            <quill-editor theme="bubble" [readOnly]="true" [ngModel]="quiz.descriptionFull"></quill-editor>
        </nb-card-body>
        <nb-card-footer class="d-flex justify-content-between">
            <span>{{quiz.published ? 'Published' : 'Draft'}}</span>
            <span>Questions: {{quiz.totalQuestions}}</span>
        </nb-card-footer>
    </nb-card>
</div>

<ng-template #loading>
    <app-loader></app-loader>
</ng-template>
